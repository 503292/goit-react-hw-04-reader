{"version":3,"sources":["components/Reader/Controls/Controls.module.css","components/Reader/Counter/Counter.module.css","components/Reader/Publication/Publication.module.css","components/Reader/Reader.module.css","components/Reader/Controls/Controls.js","components/Reader/Counter/Counter.js","components/Reader/Publication/Publication.js","routes.js","components/Reader/Reader.js","components/App.js","index.js"],"names":["module","exports","Controls","length","value","handleIncrement","handleDecrement","className","css","controls","type","disabled","onClick","button","Counter","state","this","props","counter","Component","Publication","items","key","id","publication","title","text","path","exact","component","publications","setState","history","location","parsed","Number","queryString","parse","search","item","isNaN","push","prevProps","prevState","reader","App","routes","map","route","to","pathname","ReactDOM","render","basename","document","getElementById"],"mappings":"gGACAA,EAAOC,QAAU,CAAC,SAAW,2BAA2B,OAAS,2B,mBCAjED,EAAOC,QAAU,CAAC,QAAU,2B,mBCA5BD,EAAOC,QAAU,CAAC,YAAc,mC,mBCAhCD,EAAOC,QAAU,CAAC,OAAS,yB,8OCiCZC,EA9BE,SAAC,GAAyD,IAAvDC,EAAsD,EAAtDA,OAAQC,EAA8C,EAA9CA,MAAOC,EAAuC,EAAvCA,gBAAiBC,EAAsB,EAAtBA,gBAClD,OACE,6BAASC,UAAWC,IAAIC,UACtB,4BACEC,KAAK,SACLC,SAAoB,IAAVP,EACVQ,QAASN,EACTC,UAAWC,IAAIK,QAJjB,kCAQA,4BACEH,KAAK,SACLC,SAAUR,EAAS,IAAMC,EACzBQ,QAASP,EACTE,UAAWC,IAAIK,QAJjB,0CCVeC,E,2MACnBC,MAAQ,G,wEAEE,IAAD,EACqDC,KAAKC,MAAzDd,EADD,EACCA,OAAQC,EADT,EACSA,MAAOC,EADhB,EACgBA,gBAAiBC,EADjC,EACiCA,gBACxC,OACE,oCACE,kBAAC,EAAD,CACEF,MAAOA,EACPC,gBAAiBA,EACjBC,gBAAiBA,EACjBH,OAAQA,IAEV,uBAAGI,UAAWC,IAAIU,SACfd,EAAQ,EADX,IACeD,Q,GAdcgB,a,iBCctBC,EAfK,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAH,OAClB,6BAASC,IAAKD,EAAME,GAAIhB,UAAWC,IAAIgB,aACrC,4BAAKH,EAAMI,OACX,2BAAIJ,EAAMK,Q,wBCLC,GACb,CACEC,KAAM,UACNC,OAAO,EACPC,U,2MCIFd,MAAQ,CAAEX,MAAO,G,EA+BjBC,gBAAkB,WACE,EAAKU,MAAfX,QACM0B,EAAa3B,QAG3B,EAAK4B,UAAS,SAAAhB,GAAK,MAAK,CACtBX,MAAOW,EAAMX,MAAQ,O,EAIzBE,gBAAkB,WAEF,IADI,EAAKS,MAAfX,OAIR,EAAK2B,UAAS,SAAAhB,GAAK,MAAK,CACtBX,MAAOW,EAAMX,MAAQ,O,mFA7CJ,IAAD,EACYY,KAAKC,MAA3Be,EADU,EACVA,QAASC,EADC,EACDA,SACT7B,EAAUY,KAAKD,MAAfX,MAEF8B,EAASC,OAAOC,IAAYC,MAAMJ,EAASK,QAAQC,MAErDL,EAASJ,EAAa3B,QAAUqC,MAAMN,GACxCF,EAAQS,KAAK,CACXd,KAAM,UACNW,OAAO,YAEAJ,IAAW9B,GACpBY,KAAKe,SAAS,CACZ3B,MAAO8B,M,yCAKMQ,EAAWC,GAAY,IAChCX,EAAYhB,KAAKC,MAAjBe,QACA5B,EAAUY,KAAKD,MAAfX,MACJuC,EAAUvC,QAAUA,GACtB4B,EAAQS,KAAK,CACXd,KAAM,UACNW,OAAO,SAAD,OAAWlC,O,+BAyBb,IACAA,EAAUY,KAAKD,MAAfX,MACR,OACE,yBAAKG,UAAWC,IAAIoC,QAClB,kBAAC,EAAD,CACExC,MAAOA,EAAQ,EACfD,OAAQ2B,EAAa3B,OACrBE,gBAAiBW,KAAKX,gBACtBC,gBAAiBU,KAAKV,kBAExB,kBAAC,EAAD,CAAae,MAAOS,EAAa1B,EAAQ,U,GA9D5Be,eCcN0B,G,MAjBH,WACV,OACE,oCACE,kBAAC,IAAD,KACGC,EAAOC,KAAI,SAAAC,GAAK,OACf,kBAAC,IAAD,eAAO1B,IAAK0B,EAAMrB,MAAUqB,OAE9B,kBAAC,IAAD,CACEC,GAAI,CACFC,SAAU,UACVZ,OAAQ,iBCXpBa,IAASC,OACP,kBAAC,IAAD,CAAYC,SAAS,KACnB,kBAAC,IAAD,CAAOxB,UAAWgB,KAEpBS,SAASC,eAAe,U","file":"static/js/main.e11319ac.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__OMn3e\",\"button\":\"Controls_button__1OhLB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"counter\":\"Counter_counter__2KSBW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"publication\":\"Publication_publication__265LU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reader\":\"Reader_reader__T9Clg\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport css from './Controls.module.css';\n\nconst Controls = ({ length, value, handleIncrement, handleDecrement }) => {\n  return (\n    <section className={css.controls}>\n      <button\n        type=\"button\"\n        disabled={value === 0}\n        onClick={handleDecrement}\n        className={css.button}\n      >\n        Назад\n      </button>\n      <button\n        type=\"button\"\n        disabled={length - 1 === value}\n        onClick={handleIncrement}\n        className={css.button}\n      >\n        Вперед\n      </button>\n    </section>\n  );\n};\n\nControls.propTypes = {\n  handleIncrement: PropTypes.func.isRequired,\n  handleDecrement: PropTypes.func.isRequired,\n  value: PropTypes.number.isRequired,\n  length: PropTypes.number.isRequired,\n};\n\nexport default Controls;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport css from './Counter.module.css';\nimport Controls from '../Controls/Controls';\n\nexport default class Counter extends Component {\n  state = {};\n\n  render() {\n    const { length, value, handleIncrement, handleDecrement } = this.props;\n    return (\n      <>\n        <Controls\n          value={value}\n          handleIncrement={handleIncrement}\n          handleDecrement={handleDecrement}\n          length={length}\n        />\n        <p className={css.counter}>\n          {value + 1}/{length}\n        </p>\n      </>\n    );\n  }\n}\n\nCounter.propTypes = {\n  handleIncrement: PropTypes.func.isRequired,\n  handleDecrement: PropTypes.func.isRequired,\n  value: PropTypes.number.isRequired,\n  length: PropTypes.number.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport css from './Publication.module.css';\n\nconst Publication = ({ items }) => (\n  <article key={items.id} className={css.publication}>\n    <h2>{items.title}</h2>\n    <p>{items.text}</p>\n  </article>\n);\n\nPublication.propTypes = {\n  items: PropTypes.shape({\n    id: PropTypes.string,\n    title: PropTypes.string,\n    text: PropTypes.string,\n  }).isRequired,\n};\n\nexport default Publication;\n","import Reader from './components/Reader/Reader';\n\nexport default [\n  {\n    path: '/reader',\n    exact: true,\n    component: Reader,\n  },\n];\n","/* eslint-disable react/prop-types */\nimport React, { Component } from 'react';\nimport queryString from 'query-string';\nimport Counter from './Counter/Counter';\nimport Publication from './Publication/Publication';\nimport publications from '../../publications.json';\n\nimport css from './Reader.module.css';\n\nclass Reader extends Component {\n  state = { value: 1 };\n\n  componentDidMount() {\n    const { history, location } = this.props;\n    const { value } = this.state;\n\n    const parsed = Number(queryString.parse(location.search).item);\n\n    if (parsed > publications.length || isNaN(parsed)) {\n      history.push({\n        path: '/reader',\n        search: `?item=1`,\n      });\n    } else if (parsed !== value) {\n      this.setState({\n        value: parsed,\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { history } = this.props;\n    const { value } = this.state;\n    if (prevState.value !== value) {\n      history.push({\n        path: '/reader',\n        search: `?item=${value}`,\n      });\n    }\n  }\n\n  handleIncrement = () => {\n    const { value } = this.state;\n    if (value === publications.length) {\n      return;\n    }\n    this.setState(state => ({\n      value: state.value + 1,\n    }));\n  };\n\n  handleDecrement = () => {\n    const { value } = this.state;\n    if (value === 1) {\n      return;\n    }\n    this.setState(state => ({\n      value: state.value - 1,\n    }));\n  };\n\n  render() {\n    const { value } = this.state;\n    return (\n      <div className={css.reader}>\n        <Counter\n          value={value - 1}\n          length={publications.length}\n          handleIncrement={this.handleIncrement}\n          handleDecrement={this.handleDecrement}\n        />\n        <Publication items={publications[value - 1]} />\n      </div>\n    );\n  }\n}\n\nexport default Reader;\n","import React from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport routes from '../routes';\n\nimport './App.module.css';\n\nconst App = () => {\n  return (\n    <>\n      <Switch>\n        {routes.map(route => (\n          <Route key={route.path} {...route} />\n        ))}\n        <Redirect\n          to={{\n            pathname: '/reader',\n            search: '?item=1',\n          }}\n        />\n      </Switch>\n    </>\n  );\n};\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter, Route } from 'react-router-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <HashRouter basename=\"/\">\n    <Route component={App} />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}